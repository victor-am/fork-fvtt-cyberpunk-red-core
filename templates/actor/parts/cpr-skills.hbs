
<div class="skill-block">
  <table>
    <tbody>
    {{!-- FOR ALL SKILL ITEMS, RENDER SKILL CARD --}}
    {{!-- FOR EACH CATEGORY --}}
      {{#each skillCategories as |category c|}}
      <tr class="skill-category">
          <td class="name">{{localize (lookup ../this.skillCategories c)}}</td>
          <td class="level">LVL</td>
          <td class="stat">STAT</td>
          <td class="base">BASE</td>
      </tr>
      {{#each ../actor.filteredItems.skill as |skill s|}}
      {{!-- IF SKILL IS OF CATEGORY --}}
      {{#ifEquals skill.data.category c}}
      {{!-- DISPLAY SKILL --}}
      <tr class="skill">
          <td class="name"><a class="name rollable" data-item-id={{skill._id}}>
            <span class="{{#if skill.data.basic}}bold{{/if}}">
              {{localize (lookup ../../this.skillList this.name)}} <strong>({{localize (lookup ../../this.statList this.data.stat)}})</strong>
            </span>
          </a></td>
          <td class="level">
            {{log skill}}
            <input 
              class="lvl-input"
              name="skill.data.level"
              value="{{skill.data.level}}"
              type="number"
              data-dtype="Number"
            />   
          </td>
          <td class="stat">{{getProp (getProp ../../actor.data.stats skill.data.stat) 'value'}}</td>
          <td class="base">{{add skill.data.level (lookup (getProp ../../actor.data.stats skill.data.stat) 'value')}}</td>
      </tr>
      {{/ifEquals}}
      {{/each}}
      {{/each}}
    </tbody>
  </table>  
</div>
