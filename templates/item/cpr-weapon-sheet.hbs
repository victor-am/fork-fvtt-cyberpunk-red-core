{{log "CPR-WEAPON-SHEET.HBS"}}
{{log data}}
<form>
  {{!-- Item Header Navigation --}}
  {{> "systems/cyberpunk-red-core/templates/item/parts/cpr-header.hbs"}}
  {{!-- Item Sheet Navigation --}}
  <nav class="tabs" data-group="primary">
    <a class="" data-tab="description">DESCRIPTION</a>
    <a class="" data-tab="details">DETAILS</a>
  </nav>

  {{!-- Item Sheet Body --}}
  <section class="content">
    {{!-- Inventory Tab --}}
    <div class="tab" data-group="primary" data-tab="description">
      {{> "systems/cyberpunk-red-core/templates/item/parts/cpr-description.hbs"}}
    </div>
    <div class="tab" data-group="primary" data-tab="details">
      {{!-- MARKET PRICE INPUT --}}
      <div>
        Price: <input name="data.price.market" class="" type="number" value="{{data.price.market}}">
      </div>
      {{!-- ROF INPUT --}}
      <div>
        ROF: <input name="data.rof" class="" type="number" value="{{data.rof}}">
      </div>
      {{!-- CONCEALABLE CHECKBOX --}}
      <div>
        <label class="label-text">Concealable</label>
        {{#if data.concealable}}
        <a class="item-checkbox" data-target="data.concealable"><i class="far fa-check-circle"></i></a>
        {{else}}
        <a class="item-checkbox" data-target="data.concealable"><i class="far fa-circle"></i></a>
        {{/if}}
      </div>
      {{!-- WEAPON TYPE DROPDOWN --}}
      <div>
        Weapon Type:
        <select name="data.weaponType" data-dtype="{{data.weaponType}}">
          {{#select data.weaponType}}
          <option value="">N/A</option>
          {{#each (findConfigObj "weaponTypeList") as |type t|}}
          <option value="{{t}}">{{localize type}}</option>
          {{/each}}
          {{/select}}
        </select>
      </div>
      {{!-- WEAPON SKILL DROPDOWN --}}
      <div>
        Weapon Skill:
        <select name="data.weaponSkill" data-dtype="{{data.weaponSkill}}">
          {{#select data.weaponSkill}}
          <option value="">N/A</option>
          {{!-- Would be nice if this was sorted, but not sure how to do that. --}}
          {{#each (getProp this.filteredItems 'skill') as |skillOption| }}
          {{#contains skillOption.data.data.category "rangedweaponSkills,fightingSkills"}}
          <option value="{{skillOption.data.name}}">{{skillOption.data.name}}</option>
          {{/contains}}
          {{/each}}
          {{/select}}
        </select>
      </div>
      {{!-- WEAPON QUALITY --}}
      <div>
        Weapon Quality:
         <select name="data.quality" data-dtype="{{data.quality}}">
           {{#select data.quality}}
           <option value="standard">standard</option>
           <option value="excellent">excellent</option>
           <option value="poor">poor</option>
           {{/select}}
         </select>
      </div>
      {{!-- DAMAGE INPUT --}}
      <div>
        Damage: <input name="data.damage" class="" type="text" value="{{data.damage}}">
      </div>
      {{!-- # HANDS REQ INPUT --}}
      <div>
        Hands Required: <input name="data.handsReq" class="" type="number" value="{{data.handsReq}}">
      </div>
      {{!-- IS RANGED CHECKBOX --}}
      <div>
        <label class="label-text">Ranged Weapon</label>
        {{#if data.isRanged}}
        <a class="item-checkbox" data-target="data.isRanged"><i class="far fa-check-circle"></i></a>
        {{else}}
        <a class="item-checkbox" data-target="data.isRanged"><i class="far fa-circle"></i></a>
        {{/if}}
      </div>
      {{#if data.isRanged}}
      {{!-- # ALT FIRE MODES INPUT --}}
      <div>
        Alt Fire Modes: <input name="data.altFireModes" class="" type="text" value="{{data.altFireModes}}">
      </div>
      {{!-- # MAG SIZE INPUT --}}
      <div>
        Magazine Size: <input name="data.magazine.max" class="" type="number" value="{{data.magazine.max}}">
      </div>
      {{/if}}
      {{!-- EQUIPPED --}}
        <div>
          <label class="label-text">Equipped</label>
          <select name="data.equippable.equipped" data-dtype="{{data.equippable.equipped}}">
            {{#select data.equippable.equipped}}
            {{#each (findConfigObj "equipped") as |vic v|}}
            <option value="{{v}}">{{localize vic}}</option>
            {{/each}}
            {{/select}}
          </select>
        </div>
    </div>
  </section>
</form>
{{log "CPR-WEAPON-SHEET.HBS"}}