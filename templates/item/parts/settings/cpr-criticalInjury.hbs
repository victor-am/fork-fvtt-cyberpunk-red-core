<form>
    <div class="item-settings-tab">
        <div class="item-settings-section">
            <ol class="items-list">

                {{!--Item Name/Source Settings--}}
                {{> "systems/cyberpunk-red-core/templates/item/parts/settings/common/cpr-item-name.hbs" this}}
                <li class="item flexrow">
                  <div class="item flexrow setting-name text-nowrap">
                    {{localize "CPR.source"}}
                  </div>
                  <div class="item flexrow setting-value text-nowrap item-end">
                    <input name="data.source" class="" type="text" value="{{data.data.source}}" placeholder="Example: pg. 1">
                  </div>
                </li>

                {{!-- Critical Injury Location Settings--}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.global.itemTypes.criticalInjury"}} {{localize "CPR.location"}}
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <select name="data.location" data-dtype="{{data.data.location}}">
                            {{#select data.data.location}}
                            {{#each (findConfigObj "criticalInjuryLocation") as |location l|}}
                            <option value="{{l}}">{{localize location}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </li>
                {{!-- Critical Injury Quick Fix Type Settings--}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.global.criticalInjury.quickfix"}} {{localize "CPR.type"}}
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <select name="data.quickFix.type" data-dtype="{{data.data.quickFix.type}}">
                            {{#select data.data.quickFix.type}}
                            {{#each (findConfigObj "criticalInjuryQuickFix") as |quickfix q|}}
                            <option value="{{q}}">{{localize quickfix}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </li>
                {{!-- Critical Injury Quick Fix DV Settings--}}
                {{#if (compare data.data.quickFix.type "===" "paramedic")}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.global.criticalInjury.quickfix"}} {{localize "CPR.dv"}}
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <input name="data.quickFix.dvParamedic" class="" type="number" value="{{data.data.quickFix.dvParamedic}}">
                    </div>
                </li>
                {{/if}}
                {{#if (compare data.data.quickFix.type "===" "firstAidParamedic")}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.global.criticalInjury.quickfix"}} {{localize "CPR.dv"}} ({{localize "CPR.global.skills.firstAid"}})
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <input name="data.quickFix.dvFirstAid" class="" type="number" value="{{data.data.quickFix.dvFirstAid}}">
                    </div>
                </li>
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.global.criticalInjury.quickfix"}} {{localize "CPR.dv"}} ({{localize "CPR.global.skills.paramedic"}})
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <input name="data.quickFix.dvParamedic" class="" type="number" value="{{data.data.quickFix.dvParamedic}}">
                    </div>
                </li>
                {{/if}}
                {{!-- Critical Injury Treatment Type Settings--}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.treatment"}} {{localize "CPR.type"}}
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <select name="data.treatment.type" data-dtype="{{data.data.treatment.type}}">
                            {{#select data.data.treatment.type}}
                            {{#each (findConfigObj "criticalInjuryTreatment") as |treatment t|}}
                            <option value="{{t}}">{{localize treatment}}</option>
                            {{/each}}
                            {{/select}}
                        </select>
                    </div>
                </li>
                {{!-- Critical Injury Treatment DV Settings--}}
                {{#if (compare data.data.treatment.type "===" "surgery")}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.treatment"}} {{localize "CPR.dv"}}
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <input name="data.treatment.dvSurgery" class="" type="number" value="{{data.data.treatment.dvSurgery}}">
                    </div>
                </li>
                {{/if}}
                {{#if (compare data.data.treatment.type "===" "paramedicSurgery")}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.treatment"}} {{localize "CPR.dv"}} ({{localize "CPR.global.skills.paramedic"}})
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <input name="data.treatment.dvParamedic" class="" type="number" value="{{data.data.treatment.dvParamedic}}">
                    </div>
                </li>
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.treatment"}} {{localize "CPR.dv"}} ({{localize "CPR.global.role.medtech.ability.surgery"}})
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        <input name="data.treatment.dvSurgery" class="" type="number" value="{{data.data.treatment.dvSurgery}}">
                    </div>
                </li>
                {{/if}}
                {{!-- Critical Injury Base Death Save Increase Settings--}}
                <li class="item flexrow">
                    <div class="item flexrow setting-name text-nowrap">
                        {{localize "CPR.criticalinjurydeathsave"}}
                    </div>
                    <div class="item flexrow setting-value text-nowrap item-end">
                        {{#if data.data.deathSaveIncrease}}
                        <a class="item-checkbox" data-target="data.deathSaveIncrease"><i class="far fa-check-circle"></i></a>
                        {{else}}
                        <a class="item-checkbox" data-target="data.deathSaveIncrease"><i class="far fa-circle"></i></a>
                        {{/if}}
                    </div>
                </li>
            </ol>
        </div>
    </div>
</form>
